{"version":3,"sources":["components/AddPerson.js","components/Luettelo.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","addNewName","newName","newNumber","nameChange","numberChange","onSubmit","value","onChange","type","Number","person","onDelete","name","number","onClick","Luettelo","persons","filtteri","filter","length","toLowerCase","indexOf","map","id","pUrl","exportti","getPersons","axios","get","then","res","data","addPerson","personObject","post","deletePerson","delete","updatePerson","put","Notification","message","msg","console","log","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","notify","setTimeout","useEffect","personServer","event","preventDefault","newPerson","window","confirm","oldPerson","find","p","concat","catch","target","nimi","uudetPersoonat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d97e75b4.chunk.js","sourcesContent":["const AddPerson = ({addNewName, newName, newNumber, nameChange, numberChange}) => {\r\n    return (\r\n      <form onSubmit={addNewName}>\r\n          <div>\r\n            name: <input value={newName} onChange={nameChange} /> <br />\r\n            number: <input value={newNumber} onChange={numberChange} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\n  export default AddPerson","const Luettelo = ({persons, filtteri, onDelete}) => {\r\n    return (\r\n      <div>\r\n        {persons.filter(person => {\r\n          if (filtteri.length === 0 || person.name.toLowerCase().indexOf(filtteri.toLowerCase()) !== -1) return true\r\n          return false\r\n        }).map(person => <Number key={person.id} \r\n                                 person={person} \r\n                                 onDelete={() => onDelete(person.id)} />)}\r\n      </div>\r\n    )\r\n  }\r\n  const Number = ({person, onDelete}) => {\r\n    return (\r\n      <div>{person.name} - {person.number} <button onClick={onDelete}>x</button></div>\r\n    )\r\n  }\r\n\r\n  export default Luettelo","import axios from 'axios'\r\n\r\nconst pUrl = \"/persons\"\r\n\r\nconst getPersons = () => {\r\n    const kysely = axios.get(pUrl)\r\n    return kysely.then(res => res.data)\r\n}\r\nconst addPerson = (personObject) => {\r\n    const kysely = axios.post(pUrl, personObject)\r\n    return kysely.then(res => res.data)\r\n}\r\nconst deletePerson = (id) => {\r\n    const kysely = axios.delete(`${pUrl}/${id}`)\r\n    return kysely.then(res => res.data)\r\n}\r\nconst updatePerson =( id, personObject) => {\r\n    const kysely = axios.put(`${pUrl}/${id}`, personObject)\r\n    return kysely.then(res => res.data)\r\n}\r\nconst exportti = {\r\n    getPersons: getPersons,\r\n    addPerson: addPerson,\r\n    deletePerson: deletePerson,\r\n    updatePerson: updatePerson,\r\n}\r\n\r\nexport default exportti","const Notification = ({message}) => {\r\n\r\n    if (message.msg === null) return null\r\n\r\n    console.log(message)\r\n\r\n    if (message.type === \"error\") {\r\n        return (\r\n            <div className=\"errorMessage\">\r\n                {message.msg}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"notifyMessage\">\r\n            {message.msg}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport AddPerson from './components/AddPerson'\nimport Luettelo from './components/Luettelo'\nimport personServer from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [filtteri, setFilter] = useState('')\n  const [notification, setNotification] = useState({msg: null, type: null})\n\n  const filterChange = (event) => setFilter(event.target.value)\n  const numberChange = (event) => setNewNumber(event.target.value)\n  const nameChange = (event) => setNewName(event.target.value)\n  const addNewName = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    let i = persons.filter(person => person.name === newName).length\n    if (i > 0) {\n      if (window.confirm(`Henkilö ${newName} on jo listalla. Päivitetäänkö puhelinnumero?`)) {\n        const oldPerson = persons.find(p => p.name === newName)\n        const newPerson = {...oldPerson, number: newNumber}\n//        console.log(\"Päivitetään\", oldPerson, newPerson)\n        personServer.updatePerson(oldPerson.id, newPerson).then(res => {\n          setPersons( persons.filter(p=> p.id !== res.id).concat(res))\n          notify(\"Numero päivitetty onnistuneesti!\")\n        }).catch(() => {\n          notify(\"Henkilön tietoja ei lödy palvelimelta.\", \"error\")\n        })\n      }\n    } else {\n        personServer.addPerson(newPerson).then(res => {\n          setPersons(persons.concat(res))\n          notify(`Henkilö ${newPerson.name} lisättiin!`)\n        }).catch(() => {\n          notify(\"Jokin meni pieleen ja henkilöä ei lisätty!\", \"error\")\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = (id) => {\n    const nimi = persons.find(p => p.id === id).name\n    if (window.confirm(`Poistetaanko ${nimi} varmasti!?`)) {\n      personServer.deletePerson(id).then(res => {\n        const uudetPersoonat = persons.filter(p => p.id !== id)\n        setPersons(uudetPersoonat)\n        notify(`Henkilö ${nimi} poistettiin onnistuneesti.`)\n      }).catch(() => {\n        notify(\"Henkilön tietoja ei lödy palvelimelta.\", \"error\")\n      })\n\n    }\n  }\n  const notify = (msg, type) => {\n    setNotification({msg, type})\n    setTimeout( () => {\n      setNotification({msg: null, type: null})\n    }, 3000)\n  }\n  useEffect(() => {\n      personServer.getPersons().then(res => {\n        setPersons(res)\n      })\n  },[])\n  return (\n    <div>\n      <Notification message={notification} />\n      <h2>Phonebook</h2>\n      <AddPerson addNewName={addNewName} newName={newName} newNumber={newNumber}\n                nameChange={nameChange} numberChange={numberChange} />\n      <p>Filtteri: <input onChange={filterChange}/></p>\n      <h2>Numbers</h2>\n        <Luettelo persons={persons} filtteri={filtteri} onDelete={deletePerson} />\n    </div>\n  )\n\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}